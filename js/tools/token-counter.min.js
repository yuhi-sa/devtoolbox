"use strict";
(function(){
document.addEventListener("DOMContentLoaded",function(){
var a=document.getElementById("token-input"),b=document.getElementById("model-select"),c=document.getElementById("stat-chars"),d=document.getElementById("stat-words"),e=document.getElementById("stat-lines"),f=document.getElementById("stat-tokens"),g=document.getElementById("btn-clear");
var m={gpt4:{e:4,j:1.5},gpt35:{e:4,j:1.5},claude:{e:3.5,j:1.5}};
function isJP(ch){var code=ch.charCodeAt(0);return(code>=0x3000&&code<=0x9FFF)||(code>=0xF900&&code<=0xFAFF)||(code>=0xFF00&&code<=0xFFEF)}
function tokens(t,model){if(!t)return 0;var cfg=m[model]||m.gpt4,jp=0,en=0;for(var i=0;i<t.length;i++){var ch=t[i];if(/\s/.test(ch))continue;if(isJP(ch))jp++;else en++}return Math.ceil(jp/cfg.j+en/cfg.e)}
function words(t){if(!t.trim())return 0;return t.trim().split(/\s+/).length}
function lines(t){if(!t)return 0;return t.split("\n").length}
function u(){var t=a.value,model=b.value;c.textContent=t.length.toLocaleString();d.textContent=words(t).toLocaleString();e.textContent=lines(t).toLocaleString();f.textContent=tokens(t,model).toLocaleString()}
a.addEventListener("input",u);b.addEventListener("change",u);
g.addEventListener("click",function(){a.value="";u()});
u();
});
})();

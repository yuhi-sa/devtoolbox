"use strict";
(function () {
document.addEventListener("DOMContentLoaded", function () {
var inputEl = document.getElementById("case-input");
var outputEl = document.getElementById("case-output");
var successEl = document.getElementById("case-success");
var btnClear = document.getElementById("btn-clear");
var btnCopy = document.getElementById("btn-copy");
var caseBtns = document.querySelectorAll(".case-btn");
function showSuccess(msg) {
successEl.textContent = msg;
successEl.hidden = false;
}
function clearMessages() {
successEl.hidden = true;
}
function splitWords(text) {
var normalized = text.replace(/[_\-]/g, " ");
normalized = normalized.replace(/([a-z])([A-Z])/g, "$1 $2");
normalized = normalized.replace(/([A-Z]+)([A-Z][a-z])/g, "$1 $2");
return normalized.split(/\s+/).filter(function (w) { return w.length > 0; });
}
function toCamelCase(words) {
if (words.length === 0) return "";
return words[0].toLowerCase() + words.slice(1).map(function (w) {
return w.charAt(0).toUpperCase() + w.slice(1).toLowerCase();
}).join("");
}
function toPascalCase(words) {
return words.map(function (w) {
return w.charAt(0).toUpperCase() + w.slice(1).toLowerCase();
}).join("");
}
function toSnakeCase(words) {
return words.map(function (w) { return w.toLowerCase(); }).join("_");
}
function toKebabCase(words) {
return words.map(function (w) { return w.toLowerCase(); }).join("-");
}
function toConstantCase(words) {
return words.map(function (w) { return w.toUpperCase(); }).join("_");
}
function toTitleCase(words) {
return words.map(function (w) {
return w.charAt(0).toUpperCase() + w.slice(1).toLowerCase();
}).join(" ");
}
function toSentenceCase(words) {
if (words.length === 0) return "";
var first = words[0].charAt(0).toUpperCase() + words[0].slice(1).toLowerCase();
var rest = words.slice(1).map(function (w) { return w.toLowerCase(); });
return [first].concat(rest).join(" ");
}
function convertLine(line, caseType) {
var words = splitWords(line);
if (words.length === 0) return line;
switch (caseType) {
case "camel": return toCamelCase(words);
case "pascal": return toPascalCase(words);
case "snake": return toSnakeCase(words);
case "kebab": return toKebabCase(words);
case "constant": return toConstantCase(words);
case "title": return toTitleCase(words);
case "sentence": return toSentenceCase(words);
case "lower": return line.toLowerCase();
case "upper": return line.toUpperCase();
default: return line;
}
}
function convert(text, caseType) {
if (caseType === "lower") return text.toLowerCase();
if (caseType === "upper") return text.toUpperCase();
var lines = text.split("\n");
return lines.map(function (line) {
if (line.trim() === "") return line;
return convertLine(line, caseType);
}).join("\n");
}
var caseNames = {
camel: "camelCase",
pascal: "PascalCase",
snake: "snake_case",
kebab: "kebab-case",
constant: "CONSTANT_CASE",
title: "Title Case",
sentence: "Sentence case",
lower: "lowercase",
upper: "UPPERCASE"
};
caseBtns.forEach(function (btn) {
btn.addEventListener("click", function () {
clearMessages();
var input = inputEl.value;
if (!input) return;
var caseType = btn.getAttribute("data-case");
outputEl.value = convert(input, caseType);
showSuccess(caseNames[caseType] + " に変換しました。");
});
});
btnClear.addEventListener("click", function () {
inputEl.value = "";
outputEl.value = "";
clearMessages();
});
btnCopy.addEventListener("click", function () {
var text = outputEl.value;
if (!text) return;
navigator.clipboard.writeText(text).then(function () {
showSuccess("コピーしました。");
});
});
});
})();
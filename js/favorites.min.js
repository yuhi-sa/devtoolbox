"use strict";!function(){var t="devtoolbox-favorites";function e(){try{var e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}function o(t){return-1!==e().indexOf(t)}function r(o){var r=e(),a=r.indexOf(o);return-1!==a?r.splice(a,1):r.push(o),function(e){try{localStorage.setItem(t,JSON.stringify(e))}catch(t){}}(r),-1===a}function a(t){var e=document.createElement("button");e.type="button",e.className="tool-card__favorite";var a=window.DevToolBox&&window.DevToolBox.t;return e.setAttribute("aria-label",a?a("toggleFavorite"):"お気に入り切替"),e.textContent=o(t)?"★":"☆",o(t)&&e.classList.add("is-active"),e.addEventListener("click",function(o){o.preventDefault(),o.stopPropagation();var a=r(t);e.textContent=a?"★":"☆",e.classList.toggle("is-active",a),document.querySelectorAll('.tool-card__favorite[data-slug="'+t+'"]').forEach(function(t){t.textContent=a?"★":"☆",t.classList.toggle("is-active",a)}),n()}),e.setAttribute("data-slug",t),e}function n(){var t=document.getElementById("favorites-section"),o=e();if(0!==o.length){var r=document.querySelectorAll(".category .tool-card[data-slug]"),n=[];if(o.forEach(function(t){r.forEach(function(e){e.getAttribute("data-slug")===t&&n.push(e)})}),0!==n.length){var c=t||document.createElement("section");c.id="favorites-section",c.className="favorites-section";var i=window.DevToolBox&&window.DevToolBox.t,l='<h2 class="favorites-section__title">'+(i?i("favorites"):"お気に入り")+"</h2>";if(l+='<div class="tool-grid">',n.forEach(function(t){var e=t.cloneNode(!0),o=e.querySelector(".tool-card__favorite");o&&o.remove(),l+=e.outerHTML}),l+="</div>",c.innerHTML=l,c.querySelectorAll(".tool-card").forEach(function(t){var e=t.getAttribute("data-slug");if(e){var o=a(e);t.appendChild(o)}}),!t){var u=document.querySelector(".category");u&&u.parentNode.insertBefore(c,u)}}else t&&t.remove()}else t&&t.remove()}document.addEventListener("DOMContentLoaded",function(){document.querySelector(".category .tool-card")&&(document.querySelectorAll(".tool-card").forEach(function(t){var e=function(t){var e=t.getAttribute("href");if(!e)return null;var o=e.match(/tools\/([^/]+)\/?/);return o?o[1]:null}(t);if(e&&!t.querySelector(".tool-card__favorite")){t.setAttribute("data-slug",e);var o=a(e);t.appendChild(o)}}),n())})}();